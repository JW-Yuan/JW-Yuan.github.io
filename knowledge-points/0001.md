# 可尝试改进
1. 针对缺失或不完整细胞核进行校准的Tversky损失（但是在CellGenNet中损失因为是像素级的loss所以才可以对不完整的缺失细胞求loss，只有像素级损失才可以，实例级就不行）
2. IRCR（实例可知的鲁棒一致性规范）这篇的匹配驱动的实例感知一致性MIAC不是很有用（对教师学生有用，但是对单个模型没有用），先验驱动的实例感知一致性PIAC则是引入了外部的公开数据集的一些数学上的分布特征，可以抛弃一致性，引入先验这个知识。


## 1. CellGenNet：知识蒸馏框架实现cancer的semseg（主要利用像素级Tversky损失）

## 核心思想
1. 提出一种混合损失函数，将二元交叉熵与针对缺失或**不完整细胞核进行校准的Tversky损失**相结合，从而能够有效保留伪标签中经常缺失的小型或形状不规则的细胞核结构；
2. 通过自定义的水平和垂直分割翻转变换以及逐层丢弃（layerwise dropout）实现一致性正则化，以稳定特征表示，并提升模型对不同细胞核形状、密度以及染色差异的鲁棒性；
3. 证明即使采用简单的网络架构，CellGenNet 在性能上仍优于其教师模型以及广泛使用的各类分割框架——包括 StarDist [12, 13]、Cellpose [14] 和 InstanSeg [15]——尤其是在处理**形状不规则、细长或高度密集簇集**的细胞核时表现尤为突出。

## 2. 实例级别对齐一致性规范（用于教师学生模型）

## 核心思想（一个IRCR 概念可以提出三个贡献）
1. 提出 IRCR（实例可知的鲁棒一致性规范） 概念用于半监督细胞核实例分割任务，在实例层面而非整体层面建立一致性正则化项，以提升对错误预测的鲁棒性。
2. 设计两种具体实现方法：匹配驱动的实例感知一致性MIAC 和 先验驱动的实例感知一致性PIAC，践行 IRCR 思想。
3. 基于 MIAC 和 PIAC 构建统一框架 IRCR-Net，在多个公开数据集上实现卓越性能。

## 匹配驱动的实例感知一致性MIAC

1. 首先由于教师学生模型使用的是Hover-Net ，它的输出是连续值图，无法区分单个实例，因此采用WBIS基于分水岭（Watershed）的实例分割方法将连续值处理为实例图（估计就是阈值的方法吧，导致梯度不连续了）
2. 那么为了处理这个梯度不连续的问题，就只能当前迭代计算来自Hover-Net的两个特征图的loss，然后把上一轮迭代的匹配实例当作常数乘给loss来计算。



## 先验驱动的实例感知一致性PIAC